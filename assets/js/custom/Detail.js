"use strict";const Keyword=document.getElementById("searchValue");if(!checker){Keyword.addEventListener("keyup",function(e){if(13===e.keyCode){let e=new URL(base_url);const t={k:Keyword.value};e.search=new URLSearchParams(t).toString(),window.location=e}})};document.onclick=function(e){const t=document.getElementById("layerBackground"),n=document.getElementById("layerSignup"),a=document.getElementById("layerSignin");"layerBackground"==e.target.id&&(t.style.display="none"),"comment_section"==e.target.id&&""===sess&&(t.style.display="block",a.style.display="none",n.style.display="block"),"signinBtn"==e.target.id&&""===sess&&(t.style.display="block",n.style.display="none",a.style.display="block"),"signupBtn"==e.target.id&&""===sess&&(t.style.display="block",n.style.display="block",a.style.display="none"),"commentBtn"==e.target.id&&""===sess&&(t.style.display="block",a.style.display="none",n.style.display="block")},formComment.onsubmit=(async e=>{if(e.preventDefault(),""===sess)document.getElementById("commentBtn").disabled=!0;else{document.getElementById("commentBtn").disabled=!1;const e=window.location.href,t=new URL(e).searchParams.get("id"),n=new FormData;n.append("text",document.getElementById("comment_section").value),n.append("user_id",user),n.append("video_id",t);const a=new URL(base_url+"Detail/Comments");await fetch(a,{method:"POST",body:n}).then(e=>e.json()).then(({res:e,status:t})=>{t?(alert(e.message),location.reload()):alert(e.message)}).catch(e=>{alert(e),window.location=base_url})}}),formRegister.onsubmit=(async e=>{var t=document.getElementById("layerBackground"),n=document.getElementById("layerSignup"),a=document.getElementById("layerSignin");const l=new FormData;let s=new URL(base_url+"Signup/Now");e.preventDefault(),l.append("fullname",document.getElementById("fullname").value),l.append("username",document.getElementById("username").value),l.append("email",document.getElementById("email").value),l.append("password",document.getElementById("password").value),await fetch(s,{method:"POST",body:l}).then(e=>e.json()).then(({res:e,status:l})=>{l?(alert(e.message),t.style.display="block",n.style.display="none",a.style.display="block"):alert(e.message)}).catch(e=>{alert(e),window.location=base_url})}),formLogin.onsubmit=(async e=>{const t=new FormData;let n=new URL(base_url+"Signin/Now");e.preventDefault(),t.append("username",document.getElementById("usrname").value),t.append("password",document.getElementById("pswd").value),await fetch(n,{method:"POST",body:t}).then(e=>e.json()).then(({res:e,status:t})=>{t?(alert(e.message),clearup()):alert(e.message)}).catch(e=>{alert(e),window.location=base_url})});const clearup=()=>{var e=document.getElementById("layerBackground"),t=document.getElementById("layerSignup"),n=document.getElementById("layerSignin");e.style.display="none",t.style.display="none",n.style.display="none",location.reload()};